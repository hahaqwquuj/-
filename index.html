<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="技术文档中心">
  <meta name="keywords" content="文档,技术文档,教程,API">
  <meta name="author" content="Your Name">
  
  <title>技术文档中心</title>
  
  <!-- Docsify 核心样式 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify@4/themes/vue.css">
  
  <!-- 插件样式 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify-sidebar-collapse/dist/sidebar.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify-darklight-theme@latest/dist/style.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css">
  
  <!-- 字体图标 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css">
  
  <!-- 自定义样式 -->
  <style>
    /* 全局样式 */
    :root {
      --theme-color: #42b983;
      --theme-color-dark: #3aa876;
      --base-background-color: #ffffff;
      --base-font-color: #2c3e50;
      --sidebar-width: 280px;
      --sidebar-background: #f8f9fa;
      --sidebar-border: #e9ecef;
      --content-max-width: 980px;
      --code-background: #f5f7fa;
      --code-font-color: #476582;
    }
    
    /* 深色主题变量 */
    [data-theme="dark"] {
      --theme-color: #42b983;
      --base-background-color: #1a1a1a;
      --base-font-color: #e6e6e6;
      --sidebar-background: #252525;
      --sidebar-border: #333;
      --code-background: #2d2d2d;
      --code-font-color: #ccc;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      line-height: 1.6;
      color: var(--base-font-color);
      background-color: var(--base-background-color);
      transition: background-color 0.3s, color 0.3s;
    }
    
    /* 侧边栏样式 */
    .sidebar {
      background-color: var(--sidebar-background);
      border-right: 1px solid var(--sidebar-border);
      padding-top: 60px;
    }
    
    .sidebar-toggle {
      background-color: var(--theme-color);
      border-radius: 0 4px 4px 0;
    }
    
    .sidebar-toggle span {
      background-color: white;
    }
    
    .sidebar ul {
      padding-left: 0;
    }
    
    .sidebar li {
      list-style: none;
      margin: 0;
      position: relative;
    }
    
    .sidebar-nav > ul > li > a {
      font-weight: 600;
      font-size: 14px;
      color: var(--base-font-color);
      padding: 12px 20px 12px 30px;
      border-left: 3px solid transparent;
      transition: all 0.2s;
    }
    
    .sidebar-nav ul li a {
      display: block;
      padding: 8px 20px 8px 40px;
      color: var(--base-font-color);
      text-decoration: none;
      font-size: 14px;
      position: relative;
      transition: all 0.2s;
    }
    
    .sidebar-nav ul li a:hover {
      color: var(--theme-color);
      background-color: rgba(66, 185, 131, 0.1);
    }
    
    .sidebar-nav li.active > a {
      color: var(--theme-color);
      font-weight: 600;
      border-left: 3px solid var(--theme-color);
      background-color: rgba(66, 185, 131, 0.1);
    }
    
    /* 侧边栏折叠图标 */
    .sidebar-nav .app-sub-sidebar {
      padding-left: 20px;
    }
    
    .sidebar-nav li.collapse .app-sub-sidebar {
      display: none;
    }
    
    /* 内容区域 */
    .content {
      padding: 20px 40px 40px;
      max-width: var(--content-max-width);
      margin: 0 auto;
    }
    
    section.content {
      padding-top: 80px;
    }
    
    /* 导航栏 */
    .app-nav {
      position: fixed;
      top: 0;
      right: 0;
      left: 0;
      z-index: 1000;
      background-color: var(--base-background-color);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      padding: 10px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 60px;
    }
    
    .app-nav .logo {
      display: flex;
      align-items: center;
      font-weight: 600;
      font-size: 18px;
      color: var(--theme-color);
      text-decoration: none;
    }
    
    .app-nav .logo i {
      margin-right: 8px;
      font-size: 20px;
    }
    
    .app-nav ul {
      display: flex;
      list-style: none;
      align-items: center;
    }
    
    .app-nav ul li {
      margin-left: 20px;
    }
    
    .app-nav ul li a {
      color: var(--base-font-color);
      text-decoration: none;
      padding: 5px 10px;
      border-radius: 4px;
      transition: all 0.2s;
    }
    
    .app-nav ul li a:hover {
      color: var(--theme-color);
      background-color: rgba(66, 185, 131, 0.1);
    }
    
    .app-nav .nav-btn {
      background: none;
      border: none;
      color: var(--base-font-color);
      cursor: pointer;
      font-size: 16px;
      padding: 5px 10px;
      border-radius: 4px;
      transition: all 0.2s;
    }
    
    .app-nav .nav-btn:hover {
      color: var(--theme-color);
      background-color: rgba(66, 185, 131, 0.1);
    }
    
    /* 搜索框 */
    .search {
      position: relative;
      margin: 0 20px;
    }
    
    .search input {
      width: 200px;
      padding: 8px 15px 8px 35px;
      border: 1px solid var(--sidebar-border);
      border-radius: 20px;
      background-color: var(--sidebar-background);
      color: var(--base-font-color);
      font-size: 14px;
      transition: all 0.3s;
    }
    
    .search input:focus {
      width: 250px;
      outline: none;
      border-color: var(--theme-color);
      box-shadow: 0 0 0 2px rgba(66, 185, 131, 0.2);
    }
    
    .search .clear-button {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: #999;
      cursor: pointer;
      display: none;
    }
    
    /* 代码块样式 */
    pre {
      border-radius: 8px;
      background-color: var(--code-background) !important;
    }
    
    code {
      color: var(--code-font-color);
      font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    }
    
    /* 目录 */
    .app-sub-sidebar li:before {
      content: '';
      position: absolute;
      left: 20px;
      top: 50%;
      width: 6px;
      height: 6px;
      background-color: var(--theme-color);
      border-radius: 50%;
      transform: translateY(-50%);
    }
    
    /* 分页 */
    .pagination-item {
      padding: 20px;
      border-radius: 8px;
      background-color: var(--sidebar-background);
      transition: all 0.3s;
    }
    
    .pagination-item:hover {
      background-color: rgba(66, 185, 131, 0.1);
    }
    
    /* 页脚 */
    .footer {
      text-align: center;
      padding: 30px 0;
      color: #999;
      font-size: 14px;
      border-top: 1px solid var(--sidebar-border);
      margin-top: 40px;
    }
    
    /* 移动端适配 */
    @media (max-width: 768px) {
      .sidebar {
        width: 100%;
        transform: translateX(-100%);
      }
      
      .sidebar-toggle {
        display: block;
      }
      
      .content {
        padding: 20px;
      }
      
      section.content {
        padding-top: 100px;
      }
      
      .app-nav {
        padding: 10px 15px;
      }
      
      .search input {
        width: 150px;
      }
      
      .search input:focus {
        width: 180px;
      }
    }
    
    /* 打印样式 */
    @media print {
      .sidebar, .app-nav, .sidebar-toggle {
        display: none;
      }
      
      .content {
        padding: 0;
        margin: 0;
      }
    }
    
    /* 自定义滚动条 */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: var(--sidebar-background);
    }
    
    ::-webkit-scrollbar-thumb {
      background: #c1c1c1;
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: var(--theme-color);
    }
  </style>
</head>
<body>
  <!-- 导航栏 -->
  <nav class="app-nav">
    <a href="/" class="logo">
      <i class="fas fa-book"></i>
      <span>技术文档中心</span>
    </a>
    
    <div class="search">
      <input type="search" class="search-query" placeholder="搜索文档...">
      <button class="clear-button">
        <i class="fas fa-times"></i>
      </button>
    </div>
    
    <ul>
      <li>
        <button class="nav-btn" id="theme-toggle" title="切换主题">
          <i class="fas fa-moon"></i>
        </button>
      </li>
      <li>
        <a href="https://github.com/yourusername/your-repo" target="_blank" title="GitHub">
          <i class="fab fa-github"></i>
        </a>
      </li>
      <li>
        <button class="nav-btn" id="print-btn" title="打印">
          <i class="fas fa-print"></i>
        </button>
      </li>
    </ul>
  </nav>

  <!-- 侧边栏切换按钮 -->
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-button">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>

  <!-- Docsify 容器 -->
  <div id="app"></div>

  <!-- 页脚 -->
  <footer class="footer">
    <p>© 2023 技术文档中心 | 使用 <a href="https://docsify.js.org" target="_blank">Docsify</a> 构建</p>
    <p>最后更新于 <span id="last-updated"></span></p>
  </footer>

  <!-- Docsify 核心脚本 -->
  <script src="https://cdn.jsdelivr.net/npm/docsify@4"></script>
  
  <!-- 必需插件 -->
  <script src="https://cdn.jsdelivr/npm/docsify/lib/plugins/search.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/zoom-image.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-sidebar-collapse/dist/docsify-sidebar-collapse.min.js"></script>
  
  <!-- 可选插件 -->
  <script src="https://cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-pagination/dist/docsify-pagination.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-darklight-theme@latest/dist/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-javascript.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-java.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-yaml.min.js"></script>
  
  <!-- 自定义脚本 -->
  <script>
    // Docsify 配置
    window.$docsify = {
      name: '技术文档中心',
      repo: 'https://github.com/yourusername/your-repo',
      logo: '/logo.png',
      coverpage: false,
      loadSidebar: true,
      auto2top: true,
      relativePath: true,
      maxLevel: 4,
      subMaxLevel: 3,
      loadNavbar: false,
      mergeNavbar: false,
      alias: {
        '/.*/_sidebar.md': '/_sidebar.md',
        '/.*/README.md': '/README.md'
      },
      search: {
        maxAge: 86400000,
        paths: 'auto',
        placeholder: '输入关键词搜索...',
        noData: '未找到相关结果',
        depth: 6,
        hideOtherSidebarContent: false,
        namespace: 'docs'
      },
      pagination: {
        previousText: '上一页',
        nextText: '下一页',
        crossChapter: true,
        crossChapterText: true
      },
      copyCode: {
        buttonText: '复制代码',
        errorText: '复制失败',
        successText: '已复制'
      },
      themeColor: '#42b983',
      // 侧边栏折叠配置
      sidebarDisplayLevel: 1,
      // 字数统计
      count: {
        countable: true,
        fontsize: '0.9em',
        color: 'rgb(90,90,90)',
        language: 'zh-cn'
      },
      // 图片缩放
      zoom: {
        options: {
          margin: 10,
          background: 'rgba(0,0,0,0.8)'
        }
      },
      // 路由配置
      routerMode: 'hash',
      // 自定义配置
      formatUpdated: '{YYYY}-{MM}-{DD} {HH}:{mm}',
      externalLinkTarget: '_blank',
      externalLinkRel: 'noopener',
      // 插件配置
      plugins: [
        // 自定义插件：增强侧边栏折叠功能
        function(hook, vm) {
          hook.doneEach(function() {
            // 添加折叠图标
            const sidebarItems = document.querySelectorAll('.sidebar-nav li');
            
            sidebarItems.forEach(item => {
              const hasChildren = item.querySelector('ul');
              if (hasChildren && !item.querySelector('.collapse-icon')) {
                const link = item.querySelector('a');
                const icon = document.createElement('i');
                icon.className = 'collapse-icon fas fa-chevron-right';
                icon.style.cssText = `
                  position: absolute;
                  left: 10px;
                  top: 50%;
                  transform: translateY(-50%);
                  font-size: 12px;
                  transition: transform 0.3s;
                  cursor: pointer;
                `;
                
                if (link) {
                  link.style.paddingLeft = '30px';
                  item.insertBefore(icon, link);
                  
                  icon.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    const ul = item.querySelector('ul');
                    if (ul.style.display === 'none' || getComputedStyle(ul).display === 'none') {
                      ul.style.display = 'block';
                      icon.style.transform = 'translateY(-50%) rotate(90deg)';
                      item.classList.remove('collapsed');
                      item.classList.add('expanded');
                    } else {
                      ul.style.display = 'none';
                      icon.style.transform = 'translateY(-50%) rotate(0deg)';
                      item.classList.add('collapsed');
                      item.classList.remove('expanded');
                    }
                  });
                }
              }
            });
            
            // 更新最后修改时间
            const updatedEl = document.getElementById('last-updated');
            if (updatedEl) {
              updatedEl.textContent = new Date().toLocaleDateString('zh-CN', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit'
              });
            }
          });
        },
        
        // 自定义插件：处理主题切换
        function(hook, vm) {
          hook.mounted(function() {
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = themeToggle.querySelector('i');
            
            // 检查本地存储的主题偏好
            const savedTheme = localStorage.getItem('docsify-theme');
            if (savedTheme === 'dark') {
              document.body.setAttribute('data-theme', 'dark');
              themeIcon.className = 'fas fa-sun';
            }
            
            themeToggle.addEventListener('click', function() {
              const currentTheme = document.body.getAttribute('data-theme');
              
              if (currentTheme === 'dark') {
                document.body.removeAttribute('data-theme');
                themeIcon.className = 'fas fa-moon';
                localStorage.setItem('docsify-theme', 'light');
              } else {
                document.body.setAttribute('data-theme', 'dark');
                themeIcon.className = 'fas fa-sun';
                localStorage.setItem('docsify-theme', 'dark');
              }
            });
            
            // 打印功能
            const printBtn = document.getElementById('print-btn');
            printBtn.addEventListener('click', function() {
              window.print();
            });
            
            // 搜索框清除按钮
            const searchInput = document.querySelector('.search input');
            const clearButton = document.querySelector('.clear-button');
            
            searchInput.addEventListener('input', function() {
              clearButton.style.display = this.value ? 'block' : 'none';
            });
            
            clearButton.addEventListener('click', function() {
              searchInput.value = '';
              clearButton.style.display = 'none';
              searchInput.focus();
            });
          });
        }
      ]
    };
    
    // 初始化 Docsify
    (function() {
      window.$docsify = window.$docsify || {};
      const config = window.$docsify;
      
      // 确保必要的配置项
      if (!config.loadSidebar) config.loadSidebar = true;
      if (!config.subMaxLevel) config.subMaxLevel = 3;
      if (!config.search) config.search = { placeholder: '搜索文档...' };
      
      // 加载 Docsify
      const app = document.getElementById('app');
      if (app) {
        // Docsify 会自动初始化
      }
    })();
  </script>
</body>
</html>